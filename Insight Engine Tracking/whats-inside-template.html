<!DOCTYPE html>
<html>
<head>
    <title>What's Inside - Report Content</title>
    <style>
        .whats-inside {
            background: #F6F6F6;
            border: 1px solid #D8DADA;
            border-radius: 8px;
            padding: 15px;
            height: fit-content;
            max-height: calc(100vh - 30px);
            overflow-y: auto;
        }
        
        .whats-inside-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #EE0000;
        }
        
        .whats-inside-header h4 {
            margin: 0;
            font-size: 12px;
            font-weight: bold;
            color: #000000;
        }
        
        .info-section {
            background-color: #F6F6F6;
            border-left: 4px solid #EE0000;
            padding: 12px 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        
        .info-section h5 {
            margin: 0 0 8px 0;
            font-size: 11px;
            font-weight: bold;
            color: #000000;
        }
        
        .info-section p {
            margin: 0 0 8px 0;
            font-size: 10px;
            color: #333333;
            line-height: 1.4;
        }
        
        .info-section p:last-child {
            margin-bottom: 0;
        }
        
        .info-section strong {
            color: #EE0000;
            font-weight: bold;
        }
        
        .toc-section {
            margin-top: 15px;
        }
        
        .toc-section h5 {
            margin: 0 0 10px 0;
            font-size: 11px;
            font-weight: bold;
            color: #000000;
            border-bottom: 1px solid #D8DADA;
            padding-bottom: 5px;
        }
        
        .toc-list {
            padding-left: 15px;
            margin: 0;
            font-size: 9px;
            line-height: 1.4;
        }
        
        .toc-list li {
            margin-bottom: 4px;
            color: #555555;
        }
        
        .toc-list li strong {
            color: #000000;
            font-weight: bold;
            font-size: 10px;
        }
        
        .toc-list ol {
            margin: 4px 0;
            padding-left: 15px;
        }
        
        .toc-list ol li {
            font-size: 9px;
            color: #555555;
        }

        /* Custom scrollbar styling */
        .whats-inside::-webkit-scrollbar {
            width: 6px;
        }
        
        .whats-inside::-webkit-scrollbar-track {
            background: #F6F6F6;
            border-radius: 3px;
        }
        
        .whats-inside::-webkit-scrollbar-thumb {
            background: #EE0000;
            border-radius: 3px;
            opacity: 0.7;
        }
        
        .whats-inside::-webkit-scrollbar-thumb:hover {
            background: #CC0000;
            opacity: 1;
        }
    </style>
</head>
<body>
    <div class="whats-inside" id="whatsInsideContainer">
        <div class="whats-inside-header">
            <span>ðŸ“‹</span>
            <h4>What's Inside</h4>
        </div>
        
        <!-- Content will be loaded dynamically based on report type -->
        <div id="reportContent">
            <div class="info-section">
                <h5>Loading Report Details...</h5>
                <p>Please wait while we load the specific content for your report.</p>
            </div>
        </div>
    </div>

    <script>
        // Report content configurations
        const reportConfigs = {
            "Negative GA": {
                whatsnew: "The following metrics have been removed from this report: Stand-alone FWA accounts, Second Line Activity, Channel Mix - postpaid gross adds, Step Up / Down Ratio, ARD, Device Protection Attach Rate, VZ Protect Home, Device Protection, and VMP Add.",
                whatsinside: [
                    {
                        title: "Fixed Wireless Access (FWA)",
                        content: "VCG FWA volume consolidates traditional line activations. Total and VBG FWA volume consolidates both traditional and IoT-based line activations."
                    },
                    {
                        title: "Upgrades",
                        content: "For Consumer upgrades, performance exceeding forecast/cv is now displayed as a positive value. For Total Wireless and Business upgrades, this calculation remains unchanged (performance exceeding forecast/cv is negative)."
                    }
                ],
                toc: [
                    {
                        title: "Total - Wireless, Total - Areas",
                        items: ["Postpaid customer growth", "Postpaid port activity", "Total port activity", "Volume mix (direct / indirect)"]
                    },
                    {
                        title: "Consumer, Total - Areas, Wireless",
                        items: ["Postpaid customer growth", "Postpaid port activity", "Postpaid customer growth by channel"]
                    },
                    {
                        title: "Total - VVO, Total - Areas",
                        items: ["Prepaid customer growth"]
                    },
                    {
                        title: "Business, Total - Areas, Wireless",
                        items: ["Postpaid customer growth", "Postpaid port activity", "Postpaid customer growth by channel"]
                    }
                ]
            },
            "Inflow and Outflow": {
                whatsnew: "Enhanced tracking of customer movement patterns with new visualization tools. Added real-time flow metrics and improved segmentation analysis.",
                whatsinside: [
                    {
                        title: "Customer Flow Analytics",
                        content: "Comprehensive analysis of customer acquisition and churn patterns across all channels and customer segments."
                    },
                    {
                        title: "Retention Metrics",
                        content: "Deep dive into customer lifetime value, retention rates, and churn prediction models with actionable insights."
                    }
                ],
                toc: [
                    {
                        title: "Executive Summary",
                        items: ["Key flow metrics", "Trend analysis", "Strategic recommendations"]
                    },
                    {
                        title: "Inflow Analysis",
                        items: ["New customer acquisition", "Channel performance", "Conversion rates"]
                    },
                    {
                        title: "Outflow Analysis",
                        items: ["Churn patterns", "Risk segments", "Retention strategies"]
                    },
                    {
                        title: "Predictive Insights",
                        items: ["Flow forecasting", "Risk modeling", "Opportunity identification"]
                    }
                ]
            },
            "VCG VVO Performance": {
                whatsnew: "Updated performance indicators with enhanced granularity. New KPI dashboards and comparative analysis tools integrated.",
                whatsinside: [
                    {
                        title: "Performance Metrics",
                        content: "Comprehensive VCG and VVO performance indicators including revenue, customer satisfaction, and operational efficiency metrics."
                    },
                    {
                        title: "Comparative Analysis",
                        content: "Side-by-side performance comparison with historical data, industry benchmarks, and competitive positioning."
                    }
                ],
                toc: [
                    {
                        title: "VCG Performance Overview",
                        items: ["Revenue metrics", "Customer growth", "Market share analysis"]
                    },
                    {
                        title: "VVO Performance Tracking",
                        items: ["Operational efficiency", "Service quality metrics", "Customer experience scores"]
                    },
                    {
                        title: "Competitive Positioning",
                        items: ["Market comparison", "Performance benchmarks", "Strategic insights"]
                    }
                ]
            },
            "OneEx Total": {
                whatsnew: "Consolidated OneEx reporting with unified metrics across all business units. Enhanced drill-down capabilities and real-time data integration.",
                whatsinside: [
                    {
                        title: "Unified Analytics",
                        content: "Complete OneEx ecosystem performance including cross-platform metrics, user engagement, and revenue optimization insights."
                    },
                    {
                        title: "Integration Metrics",
                        content: "Platform integration success rates, API performance, and system reliability metrics across all OneEx touchpoints."
                    }
                ],
                toc: [
                    {
                        title: "Platform Overview",
                        items: ["Total user engagement", "Revenue performance", "System health metrics"]
                    },
                    {
                        title: "Cross-Platform Analytics",
                        items: ["Integration performance", "Data flow metrics", "User journey analysis"]
                    },
                    {
                        title: "Optimization Insights",
                        items: ["Performance bottlenecks", "Growth opportunities", "Technical recommendations"]
                    }
                ]
            },
            "Wireline Daily Driver": {
                whatsnew: "Daily operational metrics with real-time alerts and predictive maintenance indicators. Enhanced network performance tracking.",
                whatsinside: [
                    {
                        title: "Daily Operations",
                        content: "Comprehensive daily performance metrics including network health, service delivery, and operational efficiency indicators."
                    },
                    {
                        title: "Predictive Analytics",
                        content: "Advanced analytics for network optimization, maintenance scheduling, and proactive issue resolution."
                    }
                ],
                toc: [
                    {
                        title: "Network Performance",
                        items: ["Daily health metrics", "Performance indicators", "Alert summaries"]
                    },
                    {
                        title: "Service Delivery",
                        items: ["Customer impact analysis", "Service level metrics", "Quality indicators"]
                    },
                    {
                        title: "Operational Insights",
                        items: ["Efficiency metrics", "Resource utilization", "Optimization opportunities"]
                    }
                ]
            }
        };

        function loadReportContent(reportType) {
            const config = reportConfigs[reportType];
            if (!config) {
                document.getElementById('reportContent').innerHTML = `
                    <div class="info-section">
                        <h5>Report Not Found</h5>
                        <p>The requested report configuration is not available. Please contact your administrator.</p>
                    </div>
                `;
                return;
            }

            let contentHTML = '';

            // What's New section
            if (config.whatsnew) {
                contentHTML += `
                    <div class="info-section">
                        <h5>What's New:</h5>
                        <p>${config.whatsnew}</p>
                    </div>
                `;
            }

            // What's Inside sections
            if (config.whatsinside && config.whatsinside.length > 0) {
                contentHTML += `<div class="info-section"><h5>What's Inside:</h5>`;
                config.whatsinside.forEach((section, index) => {
                    const marginTop = index > 0 ? ' style="margin-top:10px;"' : '';
                    contentHTML += `
                        <p${marginTop}><strong>${section.title}:</strong><br>
                        ${section.content}</p>
                    `;
                });
                contentHTML += `</div>`;
            }

            // Table of Contents
            if (config.toc && config.toc.length > 0) {
                contentHTML += `
                    <div class="toc-section">
                        <h5>Table of Contents:</h5>
                        <ol class="toc-list">
                `;
                config.toc.forEach(section => {
                    contentHTML += `
                        <li>
                            <strong>${section.title}</strong>
                            <ol type="a">
                    `;
                    section.items.forEach(item => {
                        contentHTML += `<li>${item}</li>`;
                    });
                    contentHTML += `
                            </ol>
                        </li>
                    `;
                });
                contentHTML += `
                        </ol>
                    </div>
                `;
            }

            document.getElementById('reportContent').innerHTML = contentHTML;
        }

        // Function to be called from parent window
        window.loadReportContent = loadReportContent;

        // Auto-detect report type from URL parameters or parent window
        document.addEventListener('DOMContentLoaded', function() {
            const urlParams = new URLSearchParams(window.location.search);
            const reportType = urlParams.get('report') || 'Negative GA'; // Default to Negative GA
            loadReportContent(reportType);
        });
    </script>
</body>
</html>
